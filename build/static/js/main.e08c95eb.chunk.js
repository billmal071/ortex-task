(this.webpackJsonportex=this.webpackJsonportex||[]).push([[0],{28:function(e,t,n){e.exports={dot:"login_dot__1NJn7"}},37:function(e,t,n){e.exports={content:"profile_content__2DQQk"}},43:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c,r,a,s=n(0),o=n.n(s),l=n(15),i=n.n(l),d=(n(43),n(23)),b=n(12),j=n(9);!function(e){e.LOGIN="LOGIN",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_ERROR="LOGIN_ERROR"}(c||(c={})),function(e){e.FEED="FEED",e.FEED_SUCCESS="FEED_SUCCESS",e.FEED_ERROR="FEED_ERROR"}(r||(r={})),function(e){e.RESET="RESET",e.RESET_SUCCESS="RESET_SUCCESS",e.RESET_ERROR="RESET_ERROR"}(a||(a={}));var x={loading:!1,error:null,data:{}};var u=n(10),m={loading:!1,error:null,data:{}};var f=Object(j.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.LOGIN:return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null,data:t.payload});case c.LOGIN_SUCCESS:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:null,data:t.payload});case c.LOGIN_ERROR:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:t.payload,data:{}});default:return e}},feedReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.FEED:return{loading:!0,error:null,data:null};case r.FEED_SUCCESS:return{loading:!1,error:null,data:t.payload};case r.FEED_ERROR:return{loading:!1,error:t.payload,data:null};default:return e}}}),h=function(){try{var e=localStorage.getItem("ortex");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),O=Object(d.a)({reducer:{rootReducer:f},preloadedState:h});O.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("ortex",t)}catch(n){console.log("errors from localstorage.js -: ".concat(n))}}(O.getState())}));var p=O,g=n(18),v=n(4),N=n(11),w=b.c,E=n(13),y=n.n(E),S=n(25),R=n.n(S),C=n(34);function L(e){return function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:c.LOGIN,payload:{}});try{n({type:c.LOGIN_SUCCESS,payload:e})}catch(r){n({type:c.LOGIN_ERROR,payload:r})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var _=n(1);var F=function(){var e=Object(s.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(N.a)(r,2),o=a[0],l=a[1],i=Object(b.b)(),d=w((function(e){return e.rootReducer})).loginReducer;console.log(d);var j=Object(v.g)();return Object(_.jsx)("div",{className:"bg-login-page bg-cover bg-no-repeat bg-center flex flex-row justify-center items-center flex-grow h-screen",children:Object(_.jsx)("div",{className:"flex flex-row justify-center items-center h-4/6 w-5/6 md:h-3/6 md:w-3/6 bg-card-login bg-cover bg-no-repeat bg-center text-white shadow-lg",children:Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("h3",{className:"font-bold text-3xl uppercase text-center mb-5",children:"login"}),Object(_.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),n.length<5?y.a.fire({title:"Login Error",icon:"error",text:"Your username must be 5 characters long"}):o.length<7?y.a.fire({title:"Login Error",icon:"error",text:"Your password must be 7 characters long"}):(i(L({username:n,password:o})),y.a.fire({title:"Login Success",icon:"success",text:"You are now logged in"}),void j.push("/login"))},className:"flex flex-col items-center px-4 md:px-0 ",children:[Object(_.jsxs)("div",{className:"flex md:flex-row flex-col md:pb-7",children:[Object(_.jsx)("label",{htmlFor:"username",className:"font-bold text-xl font-mono pr-2",children:"username:"}),Object(_.jsx)("input",{type:"text",name:"username",id:"username",className:"text-gray-400 font-bold border-solid border-2",placeholder:"username",value:n,onChange:function(e){return c(e.target.value)},required:!0,minLength:5})]}),Object(_.jsxs)("div",{className:"flex md:flex-row flex-col md:pb-5",children:[Object(_.jsx)("label",{htmlFor:"password",className:"font-bold text-xl font-mono pr-2",children:"password:"}),Object(_.jsx)("input",{type:"password",name:"password",id:"password",className:"text-gray-400 font-bold border-solid border-2",placeholder:"*********",value:o,onChange:function(e){return l(e.target.value)},required:!0,minLength:7})]}),Object(_.jsx)("button",{type:"submit",className:"uppercase bg-green-500 py-2 shadow-lg text-white font-medium mt-3 w-5/6 hover:text-blue-800",children:"login"})]})]})})})};var D=function(){var e,t=w((function(e){return e.rootReducer})).loginReducer,n=Object(v.g)();Object(s.useEffect)((function(){t.data.constructor===Object&&Object.entries(t.data).length<1&&n.push("/")}),[t.data]);var c=Object(s.useState)(!1),r=Object(N.a)(c,2),a=r[0],o=r[1];function l(){window.localStorage.removeItem("ortex"),n.push("/"),window.location.reload()}return Object(_.jsxs)("header",{className:"p-2 shadow-2xl bg-gray-900 text-white w-full 2xl:container fixed",children:[Object(_.jsxs)("nav",{className:"md:flex flex-row justify-between hidden",children:[Object(_.jsx)("h2",{className:"text-2xl",children:"Ortex"}),Object(_.jsxs)("div",{className:"flex flex-row pl-3",children:[Object(_.jsx)("a",{href:"/",className:"capitalize px-2",children:"home"}),t.data.constructor===Object&&Object.entries(t.data).length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("a",{href:"/login",className:"capitalize px-2",children:"profile"}),Object(_.jsxs)("p",{className:"px-2",children:["Welcome ",t.data.username]}),Object(_.jsx)("button",{onClick:l,className:"px-2 bg-red-800",children:"logout"})]}):Object(_.jsx)("p",{children:"not logged in"})]})]}),Object(_.jsxs)("nav",{className:"flex flex-row justify-between md:hidden",children:[Object(_.jsx)("h2",{className:"text-2xl",children:"Ortex"}),Object(_.jsx)("i",{className:"fas fa-bars fa-2x",onClick:function(){return o(!a)}})]}),Object(_.jsxs)("div",{className:"flex-col pl-3 ".concat(a?"flex":"hidden"),children:[Object(_.jsx)("a",{href:"/",className:"capitalize px-2",children:"home"}),(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.constructor)===Object&&Object.entries(t.data).length>1?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("a",{href:"/login",className:"capitalize px-2",children:"profile"}),Object(_.jsxs)("p",{className:"px-2",children:["Welcome ",t.data.username]}),Object(_.jsx)("button",{onClick:l,className:"px-2 bg-red-800 w-2/6",children:"logout"})]}):Object(_.jsx)("p",{children:"not logged in"})]})]})};var I=function(){return Object(_.jsx)("footer",{className:"bg-black text-white py-2",children:Object(_.jsxs)("p",{className:"text-center hover:text-blue-300 hover:font-bold",children:["\xa9",Object(_.jsx)("a",{href:"https://williams-malachy.netlify.app/",children:"Williams"})]})})},k=n(19),U=n(28),G=n.n(U);var z=function(){return Object(_.jsxs)("div",{className:"bg-404-page w-screen h-screen text-white",children:[Object(_.jsx)(k.a,{children:Object(_.jsx)("title",{children:"404 | page not found"})}),Object(_.jsx)("div",{className:"flex flex-col justify-center items-center w-screen h-screen z-10",children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"flex flex-row",children:[Object(_.jsx)("div",{className:"".concat(G.a.dot," self-center")}),Object(_.jsx)("h2",{className:"text-3xl px-3 uppercase",children:"Error"}),Object(_.jsx)("div",{className:"".concat(G.a.dot," self-center")})]}),Object(_.jsx)("h1",{className:"border-b-2 border-white text-9xl pb-2 mb-2 font-mono font-bold",children:"404"}),Object(_.jsx)("p",{className:"capitalize text-2xl font-medium",children:"page not found"}),Object(_.jsx)("a",{href:"/",rel:"",className:"bg-red-700 hover:text-black p-2 mt-2 rounded-lg",children:"Go Home"})]})})]})},T=n(29),J=n.n(T);var P=function(){return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]),null};n(60);var q=function(){return Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)("div",{className:"loader"})})},Y=n(37),W=n.n(Y);var A=function(){var e,t,n,c=w((function(e){return e.rootReducer})),a=c.loginReducer,o=c.feedReducer;console.log(o.data);var l=Object(b.b)(),i=Object(s.useState)(!1),d=Object(N.a)(i,2),j=d[0],x=d[1],u=Object(s.useState)(""),m=Object(N.a)(u,2),f=m[0],h=m[1],O=Object(s.useState)(""),p=Object(N.a)(O,2),g=p[0],v=p[1];Object(s.useEffect)((function(){l((function(e){var t=new WebSocket("wss://stream.tradingeconomics.com/?client=guest:guest");t.addEventListener("open",(function(e){t.send(JSON.stringify({topic:"subscribe",to:"EURUSD:CUR"}))})),e({type:r.FEED,payload:null}),t.addEventListener("message",(function(t){console.log(JSON.parse(t.data)),e({type:r.FEED_SUCCESS,payload:JSON.parse(t.data)})})),t.addEventListener("error",(function(t){console.log(t.type),e({type:r.FEED_ERROR,payload:t.type})})),t.addEventListener("close",(function(e){e.wasClean?console.log("code: ".concat(e.code," and reason ").concat(e.reason)):0===t.bufferedAmount?t.close():console.log("code: ".concat(e.code," connection died"))}))})),h(a.data.username),J.a.setAppElement("#root")}),[]);var E=new Date(null===(e=o.data)||void 0===e?void 0:e.dt);return Object(_.jsxs)("div",{className:"bg-profile-page bg-cover bg-no-repeat bg-center flex flex-row justify-center items-center flex-grow h-screen text-white",children:[Object(_.jsx)(k.a,{children:Object(_.jsx)("title",{children:"Ortex | Profile"})}),Object(_.jsx)(P,{}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"card bg-card",children:[Object(_.jsx)("h1",{className:"text-center text-4xl mb-3 font-bold",children:"Bio"}),Object(_.jsxs)("div",{className:"text-center",children:[Object(_.jsxs)("h3",{className:"text-2xl font-semibold my-1 font-mono",children:["Username: ",a.data.username]}),Object(_.jsxs)("h3",{className:"text-2xl font-semibold my-1 font-mono",children:["Password: ",a.data.password]})]}),Object(_.jsx)("div",{className:"text-center mt-4",children:Object(_.jsx)("button",{onClick:function(){return x(!0)},className:"bg-red-600 capitalize p-2",children:"reset password"})})]}),Object(_.jsxs)(J.a,{isOpen:j,onRequestClose:function(){return x(!1)},style:{overlay:{position:"fixed",zIndex:1,left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgb(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center"}},className:W.a.content,children:[Object(_.jsx)("button",{className:"close",onClick:function(){return x(!1)},children:"\xd7"}),Object(_.jsxs)("div",{className:"text-white",children:[Object(_.jsx)("h3",{className:"text-center capitalize font-bold text-2xl",children:"Reset Password"}),Object(_.jsx)("br",{}),Object(_.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),g.length<7)return y.a.fire({title:"Login Error",icon:"error",text:"Your password must be 7 characters long"});l(L({username:f,password:g})),y.a.fire({title:"Reset Password Success",icon:"success",text:"You password has now been reset"})},className:"flex flex-col justify-center items-center px-4 md:px-0 container mx-auto px-3 w-3/6 mt-10",children:[Object(_.jsxs)("div",{className:"flex md:flex-row flex-col md:pb-7",children:[Object(_.jsx)("label",{htmlFor:"username",className:"font-bold text-xl font-mono pr-2",children:"username:"}),Object(_.jsx)("input",{type:"text",name:"username",id:"username",className:"text-gray-400 font-bold border-solid border-2",placeholder:"username",value:a.data.username,onChange:function(){return h(a.data.username)},required:!0,minLength:5,readOnly:!0})]}),Object(_.jsx)("h3",{className:"text-lg mb-2 text-left",children:"Enter new password"}),Object(_.jsxs)("div",{className:"flex md:flex-row flex-col md:pb-5",children:[Object(_.jsx)("label",{htmlFor:"password",className:"font-bold text-xl font-mono pr-2",children:"password:"}),Object(_.jsx)("input",{type:"password",name:"password",id:"password",className:"text-gray-400 font-bold border-solid border-2",placeholder:"*********",value:g,onChange:function(e){return v(e.target.value)},required:!0,minLength:7})]}),Object(_.jsx)("button",{type:"submit",className:"uppercase bg-green-500 py-2 shadow-lg text-white font-medium mt-3 w-4/6 md:w-3/6 hover:text-red-400",children:"reset"})]})]})]}),Object(_.jsx)("br",{}),o.loading&&Object(_.jsx)(q,{}),(null===(t=o.data)||void 0===t?void 0:t.constructor)===Object&&!Object.keys(o.data).includes("dt")&&Object(_.jsx)("p",{className:"text-red-500 text-3xl text-center capitalize font-bold",children:"No websocket data"}),o.error&&Object(_.jsx)("p",{className:"text-red-500 text-3xl text-center capitalize font-bold",children:"An error occurred"}),(null===(n=o.data)||void 0===n?void 0:n.constructor)===Object&&Object.keys(o.data).includes("dt")&&Object(_.jsxs)("div",{className:"card bg-card",children:[Object(_.jsx)("h1",{className:"text-center text-3xl font-bold",children:"EUR/USD exchange rate"}),Object(_.jsxs)("h3",{className:"py-2 text-xl font-semibold font-mono",children:["TimeStamp: ",E.toLocaleString()]}),Object(_.jsxs)("h3",{className:"py-2 text-xl font-semibold font-mono",children:["Price: ",o.data.price]})]})]})]})},B=n(38);var Q=function(e){var t=e.component,n=Object(B.a)(e,["component"]),c=w((function(e){return e.rootReducer})).loginReducer,r=Object(v.g)();return Object(s.useEffect)((function(){c.data.constructor===Object&&Object.entries(c.data).length<1&&r.push("/")}),[c.data]),Object(_.jsx)(v.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return c.data.constructor===Object&&Object.entries(c.data).length>1?Object(_.jsx)(t,Object(u.a)({},e)):Object(_.jsx)(v.a,{to:{pathname:"/"}})}}))};var H=function(){return Object(_.jsx)(b.a,{store:p,children:Object(_.jsx)(g.a,{children:Object(_.jsxs)("div",{className:"2xl:container mx-auto",children:[Object(_.jsx)(D,{}),Object(_.jsxs)(v.d,{children:[Object(_.jsx)(v.b,{exact:!0,path:"/",component:F}),Object(_.jsx)(Q,{exact:!0,path:"/login",component:A}),Object(_.jsx)(v.b,{path:"*",component:z})]}),Object(_.jsx)(I,{})]})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(H,{})}),document.getElementById("root")),M()}},[[61,1,2]]]);
//# sourceMappingURL=main.e08c95eb.chunk.js.map